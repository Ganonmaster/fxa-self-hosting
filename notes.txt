* Hosting options:

1) including webserver (just need DNR, DNS, Ubuntu 15.10)
2) just moz.domain.com (just need Docker) if you already run a primary IDP, or have an account at Mozilla's secondary IDP

# Services mapping:

accounts.firefox.com -443-> fxa-content-server
 = 127.0.0.1:3030             * PUBLIC_URL= 'https://fxa.michielbdejong.com:3030'
                              * FXA_URL= 'https://fxa.michielbdejong.com:9000'

oauth.accounts.firefox.com -443-> fxa-oauth-server
 = 127.0.0.1:9010
 = 9011? private?

profile.accounts.firefox.com -443-> fxa-profile-server
 = 127.0.0.1:1111

api.accounts.firefox.com -443-> fxa-auth-server
 - 127.0.0.1:9000                 * PUBLIC_URL= 'https://fxa.michielbdejong.com:9000'
                                  * HTTPDB_URL= 'https://fxa.michielbdejong.com:8000'

# Internal:
* fxa-auth-db-mysql
* mailer

* run fxa-content-server with letsencrypt on https://fxa.michielbdejong.com/
* run fxa-auth-server with letsencrypt on https://fxa.michielbdejong.com:9000/



* Sign up on https://fxa.michielbdejong.com:3030/, and instead of going to look
for the verification email, run:

 docker exec -it httpdb mysql -e "USE fxa; UPDATE accounts SET emailVerified=1;"

to mark your email address as verified.

You may also need something like:

docker exec -it verifier.local /bin/bash
-> echo 45.32.232.152 fxa.michielbdejong.com >> /etc/hosts

* If you get https://fxa.michielbdejong.com:3030/unexpected_error, run
localStorage.clear() in the console and hard-refresh.

* TODO: get email working, trying in fxa-auth-server with:
           -e "SMTP_HOST=smtp.********.net" \
           -e "SMTP_PORT=587" \
           -e "SMTP_SECURE=true" \
           -e "SMTP_USER=********" \
           -e "SMTP_PASS=`********" \

* TODO: browserid assertion is invalid

* TODO: redo the whole setup on a fresh server, and document each step
